(this["webpackJsonpnyt-app"]=this["webpackJsonpnyt-app"]||[]).push([[0],{289:function(e,t,a){e.exports=a(503)},299:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(60),i=a.n(c),o=a(128),l=a(61),u=a(258),s=(a(298),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_ARTICLES":return t.articles;default:return e}}),d=Object(l.c)({articles:s,swUpdateAvail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SW_UPDATE_AVAILABLE":return t.update;default:return e}},userSwUpdateSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_APPROVED_UPDATE":return t.status;default:return e}}}),p=(a(299),a(259)),m=a.n(p),f=function(e){return{type:"SW_UPDATE_AVAILABLE",update:e}},E=a(119),h=a(120),g=a(129),v=a(121),b=a(130),w=a(18),S=function(e){return r.a.createElement(w.c,null,r.a.createElement(w.c.Event,null,r.a.createElement(w.c.Label,null,r.a.createElement("img",{alt:"profile",src:e.image})),r.a.createElement(w.c.Content,null,r.a.createElement(w.c.Summary,null,r.a.createElement(w.c.User,{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.articleTitle),r.a.createElement(w.c.Date,null,e.date)),r.a.createElement(w.c.Extra,{text:!0},e.description),r.a.createElement(w.c.Extra,{images:!0},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.articleTitle,src:e.articleImage}))),r.a.createElement(w.c.Meta,null,r.a.createElement(w.c.Like,null,r.a.createElement(w.e,{name:"like"}),"4 Likes")))))},k=a(288),y=a.n(k),A=a(50),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(v.a)(t).call(this,e))).update=a.update.bind(Object(A.a)(a)),a.close=a.close.bind(Object(A.a)(a)),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"update",value:function(){window.location.reload(),this.props.updateStatus(!0)}},{key:"close",value:function(){this.props.updateStatus(!1)}},{key:"render",value:function(){return r.a.createElement(w.f,{style:{position:"fixed",zIndex:"99"},color:"blue"},"New Content available",r.a.createElement(w.a,{onClick:this.update},"Update"),r.a.createElement(w.a,{onClick:this.close},"Forget it"))}}]),t}(n.Component);_.defaultProps={updateStatus:[]};var j=_,U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(v.a)(t).call(this,e))).state={image:"https://upload.wikimedia.org/wikipedia/commons/4/40/New_York_Times_logo_variation.jpg"},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.getArticles()}},{key:"render",value:function(){var e=this.state.image,t=this.props,a=t.articles,n=t.swUpdateAvail,c=t.userSwUpdateSelection,i=t.updateStatus,o=a.map((function(t,a){return r.a.createElement(S,{key:a,url:t.web_url,articleTitle:t.lead_paragraph,articleNumber:a+1,articleImage:t.multimedia[0].url?"https://static01.nyt.com/".concat(t.multimedia[0].url):e,description:t.abstract,image:e,date:y()(t.updated_date).fromNow()})}));return r.a.createElement(w.b,{textAlign:"center",style:{marginTop:"20px"}},n&&!1!==c&&r.a.createElement(j,{updateStatus:function(e){return i(e)}}),r.a.createElement(w.d,{as:"h1"}," Practicing Service Workers "),r.a.createElement(w.d,{as:"h3",attached:"top"},"New York Times: Top Stories - Travel",r.a.createElement(w.b,{style:{fontSize:"12px"},textAlign:"right"},"Results: ",a.length)),r.a.createElement(w.g,{attached:!0},o))}}]),t}(n.Component),O=Object(o.b)((function(e){return{articles:e.articles,swUpdateAvail:e.swUpdateAvail,userSwUpdateSelection:e.userSwUpdateSelection}}),(function(e,t){return{getArticles:function(){return e((function(e){var t="api-key=".concat("mrBmPU5mVEvERfIyqzM78rdnla7pftb4"),a="".concat("https://api.nytimes.com/svc/search/v2/articlesearch.json?","q=travel&");m()("".concat(a).concat(t)).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){var a=t.response.docs.sort((function(e,t){var a=new Date(e.updated_date);return new Date(t.updated_date)-a}));e(function(e){return{type:"RECEIVED_ARTICLES",articles:e}}(a))}))}))},updateStatus:function(t){return e(function(e){return{type:"USER_APPROVED_UPDATE",status:e}}(t))}}}))(U),T=[u.a];var D=Object(l.d)(d,l.a.apply(void 0,T));i.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(O,null)),document.getElementById("root")),window.addEventListener("load",(function(){!function(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){console.log(t),"installed"===t.state&&(navigator.serviceWorker.controller?(D.dispatch(f(!0)),D.subscribe((function(){D.getState().userSwUpdateSelection&&t.postMessage({update:!0})}))):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}("".concat("","/sw.js"))}))}},[[289,1,2]]]);
//# sourceMappingURL=main.1a3f7eb1.chunk.js.map